{"version":3,"file":"FloatingToolbarButton.js","sourceRoot":"","sources":["../../src/floating-toolbar/FloatingToolbarButton.tsx"],"names":[],"mappings":";AAAA,YAAY,CAAC;;AA2Bb,sDAoBC;AA5CD,uCAA+C;AAC/C,qCAA+C;AAE/C,8CAA4C;AAC5C,gDAAwD;AAExD;;;;;;;;;;;;;;;;;GAiBG;AACH,SAAgB,qBAAqB,CAAC,KAAiC;IACrE,MAAM,eAAe,GAAG,IAAA,4BAAkB,GAAE,CAAC;IAE7C,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY,IAAI,CAAC,eAAe,EAAE,CAAC;QAC9D,MAAM,IAAI,KAAK,CAAC,8DAA8D,CAAC,CAAC;IAClF,CAAC;IAED,MAAM,YAAY,GAAG,mBAAmB,CAAC,KAAK,CAAC,CAAC;IAChD,MAAM,KAAK,GAAG,YAAY,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IAE3C,OAAO,CACL,CAAC,4BAAmB,CAClB,YAAY,CAAC,CAAC,YAAY,CAAC,CAC3B,KAAK,CAAC,CAAC,KAAK,CAAC,CACb,QAAQ,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CACzB,SAAS,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,CAC3B,UAAU,CAAC,CAAC,KAAK,CAAC,OAAO,CAAC,CAC1B,kBAAkB,CAAC,CAAC,KAAK,CAAC,kBAAkB,CAAC,EAC7C,CACH,CAAC;AACJ,CAAC;AAED,SAAS,mBAAmB,CAAC,KAAiC;IAC5D,IAAI,KAAK,CAAC,IAAI,EAAE,CAAC;QACf,OAAO,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;IAC7B,CAAC;IAED,MAAM,SAAS,GAAG,IAAA,8BAAmB,EAAC,KAAK,CAAC,QAAQ,EAAE,iBAAI,CAAC,CAAC;IAC5D,IAAI,SAAS,IAAI,OAAO,SAAS,KAAK,QAAQ,IAAI,OAAO,IAAI,SAAS,EAAE,CAAC;QACvE,OAAQ,SAAS,CAAC,KAA+B,CAAC,QAAQ,CAAC;IAC7D,CAAC;IAED,OAAO,SAAS,CAAC;AACnB,CAAC;AAED,SAAS,YAAY,CAAC,QAAmB;IACvC,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE,CAAC;QACjC,OAAO,QAAQ,CAAC;IAClB,CAAC;IAED,MAAM,UAAU,GAAG,IAAA,8BAAmB,EAAC,QAAQ,EAAE,kBAAK,CAAC,CAAC;IACxD,IAAI,UAAU,IAAI,OAAO,UAAU,KAAK,QAAQ,IAAI,OAAO,IAAI,UAAU,EAAE,CAAC;QAC1E,MAAM,aAAa,GAAI,UAAU,CAAC,KAAkC,CAAC,QAAQ,CAAC;QAC9E,IAAI,OAAO,aAAa,KAAK,QAAQ,EAAE,CAAC;YACtC,OAAO,aAAa,CAAC;QACvB,CAAC;IACH,CAAC;IAED,OAAO,SAAS,CAAC;AACnB,CAAC","sourcesContent":["'use client';\nimport type { ReactNode } from 'react';\n\nimport { useFloatingToolbar } from './context';\nimport { FloatingToolbarItem } from './native';\nimport type { FloatingToolbarButtonProps } from './types';\nimport { Icon, Label } from '../primitives';\nimport { getFirstChildOfType } from '../utils/children';\n\n/**\n * A button displayed inside a `FloatingToolbar`.\n *\n * @example\n * ```tsx\n * <FloatingToolbar.Button icon={{ drawable: 'star' }} onPress={() => {}} />\n * ```\n *\n * @example\n * ```tsx\n * <FloatingToolbar.Button onPress={() => {}}>\n *   <FloatingToolbar.Icon drawable=\"star\" />\n *   <FloatingToolbar.Label>Star</FloatingToolbar.Label>\n * </FloatingToolbar.Button>\n * ```\n *\n * @platform android\n */\nexport function FloatingToolbarButton(props: FloatingToolbarButtonProps) {\n  const isInsideToolbar = useFloatingToolbar();\n\n  if (process.env.NODE_ENV !== 'production' && !isInsideToolbar) {\n    throw new Error('FloatingToolbar.Button must be used inside a FloatingToolbar');\n  }\n\n  const iconDrawable = resolveIconDrawable(props);\n  const title = resolveLabel(props.children);\n\n  return (\n    <FloatingToolbarItem\n      iconDrawable={iconDrawable}\n      title={title}\n      disabled={props.disabled}\n      tintColor={props.tintColor}\n      onSelected={props.onPress}\n      accessibilityLabel={props.accessibilityLabel}\n    />\n  );\n}\n\nfunction resolveIconDrawable(props: FloatingToolbarButtonProps): string | undefined {\n  if (props.icon) {\n    return props.icon.drawable;\n  }\n\n  const iconChild = getFirstChildOfType(props.children, Icon);\n  if (iconChild && typeof iconChild === 'object' && 'props' in iconChild) {\n    return (iconChild.props as { drawable?: string }).drawable;\n  }\n\n  return undefined;\n}\n\nfunction resolveLabel(children: ReactNode): string | undefined {\n  if (typeof children === 'string') {\n    return children;\n  }\n\n  const labelChild = getFirstChildOfType(children, Label);\n  if (labelChild && typeof labelChild === 'object' && 'props' in labelChild) {\n    const labelChildren = (labelChild.props as { children?: ReactNode }).children;\n    if (typeof labelChildren === 'string') {\n      return labelChildren;\n    }\n  }\n\n  return undefined;\n}\n"]}